<launch>
  <!-- rosparam load ~/ros1_ws/bridge_realrobot.yaml 
  roslaunch ur_description  robot_description.launch  
  roslaunch course_web_dev_ros  web2.launch  
  roslaunch course_web_dev_ros tf2_web.launch 
  rosrun image_transport republish compressed in:=/D415/color/image_aruco raw out:=/D415/color/image_aruco_raw
  rosrun rqt_image_view rqt_image_view /D415/color/image_aruco_raw   -->

  <!-- roslaunch course_web_dev_ros  web2.launch -->
  <include file="$(find rosbridge_server)/launch/rosbridge_websocket.launch">
      <arg name="port" value="9090" />
      <!-- arg name="websocket_external_port" value="$(env SLOT_ROSBRIDGE_PORT)"/-->
  </include >
  <node name="web_video_server" pkg="web_video_server" type="web_video_server">
      <param name="port" value="11315" />
  </node>


  <!-- rosparam load ~/ros1_ws/bridge_realrobot.yaml -->
  <rosparam command="load" file="$(find launch_cp25_ros1)/config/bridge_realrobot.yaml" />


  <!-- roslaunch ur_description  robot_description.launch -->
  <arg default="$(find ur_description)/urdf/ur_urdf_realrobot.xacro" name="model"/>
	<param command="$(find xacro)/xacro $(arg model)" name="robot_description"/>



  <!-- roslaunch course_web_dev_ros tf2_web.launch -->
    <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher">
        <remap from="/tf" to="/wrong_tf_do_not_use"/>
        <remap from="/tf_static" to="/wrong_tf_static_do_not_use"/>
    </node>

    <node pkg="tf" type="static_transform_publisher" name="aruco_link_broadcaster" args="0.09 0 0.018 0 0 0 1 rg2_gripper_base_link aruco_link 100" />
    <node pkg="tf" type="static_transform_publisher" name="tool0_broadcaster" args="0 0 0 0.5 0.5 0.5 0.5 flange tool0 100" />
    <node pkg="tf" type="static_transform_publisher" name="rg2_gripper_base_link_broadcaster" args="0 0 0 0.5 -0.5 0.5 0.5 tool0 rg2_gripper_base_link 100" />   
    <!--node name="joint_state_publisher" pkg="joint_state_publisher" type="joint_state_publisher">
    </node-->
    <node name="tf2_web_republisher" pkg="tf2_web_republisher" type="tf2_web_republisher">
    </node>

     <!-- rosrun rqt_image_view rqt_image_view /D415/color/image_aruco  -->
    <node name="rqt_image_view" pkg="rqt_image_view"  type="rqt_image_view" args="/D415/color/image_aruco_raw">
    </node>
       
    <!-- rosrun image_transport republish compressed in:=/D415/color/image_aruco raw out:=/D415/color/image_aruco_raw --> 
    <node name="republish" pkg="image_transport" type="republish" args="compressed in:=/D415/color/image_aruco raw out:=/D415/color/image_aruco_raw">
    </node>


</launch>